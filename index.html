<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>H-Care | Help Us Build the Right Solution</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Manrope:wght@400;500;600;700&display=swap" rel="stylesheet">

<!-- Google Analytics 4 -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-L517E98NN6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-L517E98NN6');
</script>

<style>
* {margin:0;padding:0;box-sizing:border-box;}

:root {
--primary: #3b82f6;
--primary-light: #dbeafe;
--dark: #111827;
--text: #374151;
--text-light: #6b7280;
--bg: #f9fafb;
--white: #ffffff;
--success: #10b981;
--warning: #f59e0b;
}

html {scroll-behavior:smooth;}

body {
font-family:'Manrope',-apple-system,sans-serif;
background:var(--bg);
color:var(--text);
line-height:1.6;
}

/* ===== HEADER ===== */
header {
background:linear-gradient(135deg, #f0f9ff 0%, #f0f4ff 100%);
padding:40px 20px;
text-align:center;
border-bottom:1px solid #e0e7ff;
}

header h1 {
font-family:'Poppins',sans-serif;
font-size:32px;
font-weight:700;
color:var(--dark);
margin-bottom:10px;
}

header p {
color:var(--text-light);
font-size:16px;
max-width:600px;
margin:0 auto;
}

/* ===== MAIN CONTAINER ===== */
.container {
max-width:900px;
margin:0 auto;
padding:60px 20px;
}

/* ===== INTRO SECTION ===== */
.intro-section {
background:var(--white);
padding:40px;
border-radius:16px;
margin-bottom:60px;
border:1px solid #e5e7eb;
}

.intro-section h2 {
font-family:'Poppins',sans-serif;
font-size:24px;
font-weight:600;
color:var(--dark);
margin-bottom:15px;
}

.intro-section p {
color:var(--text-light);
font-size:15px;
line-height:1.8;
margin-bottom:12px;
}

/* ===== FEEDBACK SECTIONS ===== */
.feedback-tabs {
display:flex;
gap:12px;
margin-bottom:40px;
flex-wrap:wrap;
}

.tab-button {
padding:12px 20px;
border:2px solid #e5e7eb;
background:var(--white);
border-radius:10px;
cursor:pointer;
font-weight:500;
color:var(--text-light);
font-size:14px;
transition:all 0.3s ease;
font-family:'Manrope',sans-serif;
}

.tab-button.active {
background:var(--primary);
color:var(--white);
border-color:var(--primary);
}

.tab-button:hover {
border-color:var(--primary);
color:var(--primary);
}

/* ===== FORM SECTIONS ===== */
.form-section {
display:none;
background:var(--white);
padding:40px;
border-radius:16px;
border:1px solid #e5e7eb;
animation:fadeIn 0.4s ease;
}

.form-section.active {
display:block;
}

@keyframes fadeIn {
from {opacity:0;transform:translateY(10px);}
to {opacity:1;transform:translateY(0);}
}

.form-section h3 {
font-family:'Poppins',sans-serif;
font-size:20px;
font-weight:600;
color:var(--dark);
margin-bottom:10px;
}

.form-section .subtitle {
color:var(--text-light);
font-size:14px;
margin-bottom:30px;
}

/* ===== FORM ELEMENTS ===== */
.form-group {
margin-bottom:25px;
}

label {
display:block;
font-weight:500;
color:var(--dark);
margin-bottom:8px;
font-size:14px;
}

input[type="text"],
input[type="email"],
input[type="tel"],
input[type="number"],
select,
textarea {
width:100%;
padding:12px 14px;
border:1.5px solid #e5e7eb;
border-radius:10px;
font-family:'Manrope',sans-serif;
font-size:14px;
color:var(--text);
transition:all 0.3s ease;
background:var(--white);
}

input:focus,
select:focus,
textarea:focus {
outline:none;
border-color:var(--primary);
box-shadow:0 0 0 3px rgba(59,130,246,0.1);
}

textarea {
resize:vertical;
min-height:100px;
}

/* ===== RADIO & CHECKBOX ===== */
.radio-group,
.checkbox-group {
margin-bottom:15px;
}

.radio-item,
.checkbox-item {
display:flex;
align-items:center;
margin-bottom:12px;
cursor:pointer;
}

.radio-item input[type="radio"],
.checkbox-item input[type="checkbox"] {
margin-right:10px;
cursor:pointer;
width:18px;
height:18px;
accent-color:var(--primary);
}

.radio-item label,
.checkbox-item label {
margin:0;
cursor:pointer;
font-weight:400;
}

/* ===== RATING SCALE ===== */
.rating-scale {
display:flex;
gap:10px;
margin-top:12px;
flex-wrap:wrap;
}

.rating-btn {
padding:10px 16px;
border:1.5px solid #e5e7eb;
border-radius:8px;
background:var(--white);
cursor:pointer;
font-weight:500;
font-size:13px;
transition:all 0.3s ease;
color:var(--text-light);
}

.rating-btn:hover {
border-color:var(--primary);
background:var(--primary-light);
}

.rating-btn.selected {
background:var(--primary);
color:var(--white);
border-color:var(--primary);
}

/* ===== BUTTON ===== */
.btn-group {
display:flex;
gap:12px;
margin-top:30px;
}

button {
padding:12px 24px;
border:none;
border-radius:10px;
font-weight:600;
font-size:14px;
cursor:pointer;
transition:all 0.3s ease;
font-family:'Manrope',sans-serif;
}

.btn-primary {
background:var(--primary);
color:var(--white);
flex:1;
}

.btn-primary:hover {
background:#2563eb;
transform:translateY(-2px);
box-shadow:0 4px 12px rgba(59,130,246,0.3);
}

.btn-primary:disabled {
background:#9ca3af;
cursor:not-allowed;
transform:none;
}

.btn-secondary {
background:transparent;
border:1.5px solid #e5e7eb;
color:var(--text-light);
flex:1;
}

.btn-secondary:hover {
border-color:var(--primary);
color:var(--primary);
}

/* ===== SUCCESS MESSAGE ===== */
.success-message {
background:#ecfdf5;
border:1px solid #d1fae5;
border-radius:12px;
padding:20px;
color:#065f46;
font-size:14px;
margin-top:20px;
display:none;
}

.success-message.show {
display:block;
animation:slideDown 0.4s ease;
}

@keyframes slideDown {
from {opacity:0;transform:translateY(-10px);}
to {opacity:1;transform:translateY(0);}
}

/* ===== ERROR MESSAGE ===== */
.error-message {
background:#fef2f2;
border:1px solid #fecaca;
border-radius:12px;
padding:15px;
color:#991b1b;
font-size:13px;
margin-top:15px;
display:none;
}

.error-message.show {
display:block;
}

/* ===== FOOTER ===== */
footer {
text-align:center;
padding:40px 20px;
color:var(--text-light);
border-top:1px solid #e5e7eb;
margin-top:80px;
}

footer p {
font-size:13px;
margin:5px 0;
}

/* ===== RESPONSIVE ===== */
@media(max-width:768px) {
.container {padding:40px 20px;}
.intro-section {padding:25px;}
.form-section {padding:25px;}
header h1 {font-size:24px;}
.feedback-tabs {flex-direction:column;}
.tab-button {width:100%;}
.btn-group {flex-direction:column;}
}

/* ===== UTILITY ===== */
.hidden {display:none;}
.text-muted {color:var(--text-light);}
.text-small {font-size:13px;}
.mt-20 {margin-top:20px;}
</style>
</head>

<body>

<!-- ===== HEADER ===== -->
<header>
<h1>Help Us Build H-Care</h1>
<p>We're listening. Share your thoughts, challenges, and ideas about family safety monitoring.</p>
</header>

<!-- ===== MAIN CONTAINER ===== -->
<div class="container">

<!-- ===== INTRO ===== -->
<div class="intro-section">
<h2>üéØ We Want Your Input</h2>
<p>We're developing H-Care to solve real safety challenges for families. But we need to understand your needs better before we launch. Your honest feedback‚Äîwhether it's concerns, ideas, or use cases we haven't thought of‚Äîwill directly shape the product.</p>
<p><strong>This should take about 5-10 minutes.</strong> Thank you for helping us build something meaningful.</p>
</div>

<!-- ===== TAB NAVIGATION ===== -->
<div class="feedback-tabs">
<button class="tab-button active" onclick="switchTab(0, this, event)">Your Situation</button>
<button class="tab-button" onclick="switchTab(1, this, event)">Current Solutions</button>
<button class="tab-button" onclick="switchTab(2, this, event)">Product Fit</button>
<button class="tab-button" onclick="switchTab(3, this, event)">Final Thoughts</button>
</div>

<!-- ===== HIDDEN NETLIFY FORM ===== -->
<form name="h-care-feedback" method="POST" netlify netlify-honeypot="bot-field" style="display:none;">
<input type="hidden" name="form-name" value="h-care-feedback" />
<input type="hidden" name="bot-field" />
<input type="hidden" name="timestamp" id="form-timestamp" />
<input type="hidden" name="sessionId" id="form-sessionId" />
<input type="hidden" name="segment" id="form-segment" />
<input type="hidden" name="worryFrequency" id="form-worryFrequency" />
<textarea name="biggestConcern" id="form-biggestConcern"></textarea>
<input type="hidden" name="usingSolutions" id="form-usingSolutions" />
<input type="hidden" name="solutions" id="form-solutions" />
<input type="hidden" name="satisfactionRating" id="form-satisfactionRating" />
<textarea name="currentProblem" id="form-currentProblem"></textarea>
<input type="hidden" name="interest" id="form-interest" />
<input type="hidden" name="features" id="form-features" />
<textarea name="concerns" id="form-concerns"></textarea>
<input type="hidden" name="price" id="form-price" />
<input type="text" name="name" id="form-name" />
<input type="email" name="email" id="form-email" />
<input type="tel" name="phone" id="form-phone" />
<input type="text" name="city" id="form-city" />
<textarea name="finalFeedback" id="form-finalFeedback"></textarea>
<input type="hidden" name="followup" id="form-followup" />
</form>

<!-- ===== FORM SECTION 1: SITUATION ===== -->
<div class="form-section active">
<h3>Tell Us About Your Situation</h3>
<p class="subtitle">Help us understand who you're looking to protect and what challenges you face.</p>

<div class="form-group">
<label>Who are you looking to protect?</label>
<div class="checkbox-group">
<div class="checkbox-item">
<input type="checkbox" id="elderly" name="segment" value="elderly" onclick="trackEvent('checkbox_click', 'segment_elderly')">
<label for="elderly">Elderly parent/relative</label>
</div>
<div class="checkbox-item">
<input type="checkbox" id="baby" name="segment" value="baby" onclick="trackEvent('checkbox_click', 'segment_baby')">
<label for="baby">Baby/Infant</label>
</div>
<div class="checkbox-item">
<input type="checkbox" id="special" name="segment" value="special" onclick="trackEvent('checkbox_click', 'segment_special')">
<label for="special">Child with special needs</label>
</div>
<div class="checkbox-item">
<input type="checkbox" id="other-seg" name="segment" value="other" onclick="trackEvent('checkbox_click', 'segment_other')">
<label for="other-seg">Other</label>
</div>
</div>
</div>

<div class="form-group">
<label>How often does safety concern you?</label>
<div class="radio-group">
<div class="radio-item">
<input type="radio" id="worry-always" name="worry-frequency" value="always" onclick="trackEvent('radio_click', 'worry_always')">
<label for="worry-always">Constantly - it affects my daily life</label>
</div>
<div class="radio-item">
<input type="radio" id="worry-often" name="worry-frequency" value="often" onclick="trackEvent('radio_click', 'worry_often')">
<label for="worry-often">Often - several times a week</label>
</div>
<div class="radio-item">
<input type="radio" id="worry-sometimes" name="worry-frequency" value="sometimes" onclick="trackEvent('radio_click', 'worry_sometimes')">
<label for="worry-sometimes">Sometimes - specific situations</label>
</div>
<div class="radio-item">
<input type="radio" id="worry-rarely" name="worry-frequency" value="rarely" onclick="trackEvent('radio_click', 'worry_rarely')">
<label for="worry-rarely">Rarely - but important to address</label>
</div>
</div>
</div>

<div class="form-group">
<label>What's your biggest safety concern right now?</label>
<textarea id="biggest-concern" placeholder="Tell us what keeps you up at night..." required></textarea>
</div>

<div class="error-message" id="error1"></div>

<div class="btn-group">
<button type="button" class="btn-secondary" onclick="prevTab(0)">Back</button>
<button type="button" class="btn-primary" onclick="nextTab(1)">Next</button>
</div>
</div>

<!-- ===== FORM SECTION 2: CURRENT SOLUTIONS ===== -->
<div class="form-section">
<h3>What Are You Currently Using?</h3>
<p class="subtitle">Help us understand what's already in place and why it might not be enough.</p>

<div class="form-group">
<label>Are you currently using any safety monitoring solutions?</label>
<div class="radio-group">
<div class="radio-item">
<input type="radio" id="using-yes" name="using-solutions" value="yes" onclick="trackEvent('radio_click', 'using_solutions_yes')">
<label for="using-yes">Yes</label>
</div>
<div class="radio-item">
<input type="radio" id="using-no" name="using-solutions" value="no" onclick="trackEvent('radio_click', 'using_solutions_no')">
<label for="using-no">No</label>
</div>
<div class="radio-item">
<input type="radio" id="using-partial" name="using-solutions" value="partial" onclick="trackEvent('radio_click', 'using_solutions_partial')">
<label for="using-partial">Partially / Just started</label>
</div>
</div>
</div>

<div class="form-group">
<label>Which of these are you using? (Select all that apply)</label>
<div class="checkbox-group">
<div class="checkbox-item">
<input type="checkbox" id="sol-cctv" name="solutions" value="cctv" onclick="trackEvent('checkbox_click', 'solution_cctv')">
<label for="sol-cctv">CCTV cameras</label>
</div>
<div class="checkbox-item">
<input type="checkbox" id="sol-smartwatch" name="solutions" value="smartwatch" onclick="trackEvent('checkbox_click', 'solution_smartwatch')">
<label for="sol-smartwatch">Smartwatch/wearable</label>
</div>
<div class="checkbox-item">
<input type="checkbox" id="sol-manual" name="solutions" value="manual" onclick="trackEvent('checkbox_click', 'solution_manual')">
<label for="sol-manual">Manual check-ins (calls/visits)</label>
</div>
<div class="checkbox-item">
<input type="checkbox" id="sol-alert" name="solutions" value="alert" onclick="trackEvent('checkbox_click', 'solution_alert')">
<label for="sol-alert">Alert button/panic system</label>
</div>
<div class="checkbox-item">
<input type="checkbox" id="sol-gps" name="solutions" value="gps" onclick="trackEvent('checkbox_click', 'solution_gps')">
<label for="sol-gps">GPS tracker</label>
</div>
<div class="checkbox-item">
<input type="checkbox" id="sol-nothing" name="solutions" value="nothing" onclick="trackEvent('checkbox_click', 'solution_nothing')">
<label for="sol-nothing">None - doing it manually</label>
</div>
</div>
</div>

<div class="form-group">
<label>Rate your satisfaction with current solutions</label>
<div class="rating-scale">
<button type="button" class="rating-btn" data-rating="1" onclick="selectRating(this); trackEvent('rating_click', 'satisfaction_1')">1 - Not at all</button>
<button type="button" class="rating-btn" data-rating="2" onclick="selectRating(this); trackEvent('rating_click', 'satisfaction_2')">2</button>
<button type="button" class="rating-btn" data-rating="3" onclick="selectRating(this); trackEvent('rating_click', 'satisfaction_3')">3</button>
<button type="button" class="rating-btn" data-rating="4" onclick="selectRating(this); trackEvent('rating_click', 'satisfaction_4')">4</button>
<button type="button" class="rating-btn" data-rating="5" onclick="selectRating(this); trackEvent('rating_click', 'satisfaction_5')">5 - Very satisfied</button>
</div>
<input type="hidden" id="satisfaction-rating" name="satisfaction-rating">
</div>

<div class="form-group">
<label>What's the biggest problem with your current solution?</label>
<textarea id="current-problem" placeholder="Too expensive? Doesn't detect problems? Invasion of privacy? Other..."></textarea>
</div>

<div class="error-message" id="error2"></div>

<div class="btn-group">
<button type="button" class="btn-secondary" onclick="prevTab(0)">Back</button>
<button type="button" class="btn-primary" onclick="nextTab(2)">Next</button>
</div>
</div>

<!-- ===== FORM SECTION 3: PRODUCT FIT ===== -->
<div class="form-section">
<h3>H-Care Concept Feedback</h3>
<p class="subtitle">We're exploring AI-powered wearable safety monitoring. What do you think?</p>

<div class="form-group">
<label><strong>H-Care Concept:</strong> A discreet wearable that learns normal patterns and automatically detects unusual activity (falls, breathing changes, wandering) ‚Äî then alerts you instantly without requiring manual activation.</label>
</div>

<div class="form-group">
<label>How interested are you in this approach?</label>
<div class="radio-group">
<div class="radio-item">
<input type="radio" id="interest-very" name="interest" value="very-interested" onclick="trackEvent('radio_click', 'interest_very')">
<label for="interest-very">Very interested - exactly what we need</label>
</div>
<div class="radio-item">
<input type="radio" id="interest-somewhat" name="interest" value="somewhat" onclick="trackEvent('radio_click', 'interest_somewhat')">
<label for="interest-somewhat">Somewhat interested - could help</label>
</div>
<div class="radio-item">
<input type="radio" id="interest-maybe" name="interest" value="maybe" onclick="trackEvent('radio_click', 'interest_maybe')">
<label for="interest-maybe">Maybe - depends on details</label>
</div>
<div class="radio-item">
<input type="radio" id="interest-not" name="interest" value="not-interested" onclick="trackEvent('radio_click', 'interest_not')">
<label for="interest-not">Not interested - prefer other solutions</label>
</div>
</div>
</div>

<div class="form-group">
<label>What would make H-Care worth adopting? (Select top 3)</label>
<div class="checkbox-group">
<div class="checkbox-item">
<input type="checkbox" id="feature-real-time" name="features" value="real-time" onclick="trackEvent('checkbox_click', 'feature_realtime')">
<label for="feature-real-time">Real-time detection without manual activation</label>
</div>
<div class="checkbox-item">
<input type="checkbox" id="feature-discreet" name="features" value="discreet" onclick="trackEvent('checkbox_click', 'feature_discreet')">
<label for="feature-discreet">Discreet (not a bulky device)</label>
</div>
<div class="checkbox-item">
<input type="checkbox" id="feature-privacy" name="features" value="privacy" onclick="trackEvent('checkbox_click', 'feature_privacy')">
<label for="feature-privacy">Privacy-first (no constant video recording)</label>
</div>
<div class="checkbox-item">
<input type="checkbox" id="feature-affordable" name="features" value="affordable" onclick="trackEvent('checkbox_click', 'feature_affordable')">
<label for="feature-affordable">Affordable pricing</label>
</div>
<div class="checkbox-item">
<input type="checkbox" id="feature-reliable" name="features" value="reliable" onclick="trackEvent('checkbox_click', 'feature_reliable')">
<label for="feature-reliable">High accuracy (few false alarms)</label>
</div>
<div class="checkbox-item">
<input type="checkbox" id="feature-easy" name="features" value="easy" onclick="trackEvent('checkbox_click', 'feature_easy')">
<label for="feature-easy">Easy to use (no tech expertise needed)</label>
</div>
</div>
</div>

<div class="form-group">
<label>Any concerns about this type of solution?</label>
<textarea id="concerns" placeholder="Privacy worries? Accuracy concerns? Discomfort wearing it? Let us know..."></textarea>
</div>

<div class="form-group">
<label>What price range would feel fair?</label>
<div class="radio-group">
<div class="radio-item">
<input type="radio" id="price-under-5k" name="price" value="under-5k" onclick="trackEvent('radio_click', 'price_under5k')">
<label for="price-under-5k">Under ‚Çπ5,000</label>
</div>
<div class="radio-item">
<input type="radio" id="price-5-10k" name="price" value="5-10k" onclick="trackEvent('radio_click', 'price_5to10k')">
<label for="price-5-10k">‚Çπ5,000 - ‚Çπ10,000</label>
</div>
<div class="radio-item">
<input type="radio" id="price-10-20k" name="price" value="10-20k" onclick="trackEvent('radio_click', 'price_10to20k')">
<label for="price-10-20k">‚Çπ10,000 - ‚Çπ20,000</label>
</div>
<div class="radio-item">
<input type="radio" id="price-above-20k" name="price" value="above-20k" onclick="trackEvent('radio_click', 'price_above20k')">
<label for="price-above-20k">‚Çπ20,000+</label>
</div>
<div class="radio-item">
<input type="radio" id="price-not-sure" name="price" value="not-sure" onclick="trackEvent('radio_click', 'price_notsure')">
<label for="price-not-sure">Not sure / depends on features</label>
</div>
</div>
</div>

<div class="error-message" id="error3"></div>

<div class="btn-group">
<button type="button" class="btn-secondary" onclick="prevTab(1)">Back</button>
<button type="button" class="btn-primary" onclick="nextTab(3)">Next</button>
</div>
</div>

<!-- ===== FORM SECTION 4: FINAL THOUGHTS ===== -->
<div class="form-section">
<h3>Final Thoughts & Contact</h3>
<p class="subtitle">Help us improve and stay in touch about H-Care development.</p>

<div class="form-group">
<label>Full Name *</label>
<input type="text" id="name" placeholder="Your name" required>
</div>

<div class="form-group">
<label>Email Address *</label>
<input type="email" id="email" placeholder="your@email.com" required>
</div>

<div class="form-group">
<label>Phone (Optional)</label>
<input type="tel" id="phone" placeholder="+91 98765 43210">
</div>

<div class="form-group">
<label>City / Region</label>
<input type="text" id="city" placeholder="Where are you located?">
</div>

<div class="form-group">
<label>Any other feedback or ideas?</label>
<textarea id="final-feedback" placeholder="Is there something we haven't asked? Any ideas or concerns you want to share?"></textarea>
</div>

<div class="form-group">
<label>Would you be open to a follow-up conversation?</label>
<div class="radio-group">
<div class="radio-item">
<input type="radio" id="followup-yes" name="followup" value="yes" onclick="trackEvent('radio_click', 'followup_yes')">
<label for="followup-yes">Yes, I'd like to chat more</label>
</div>
<div class="radio-item">
<input type="radio" id="followup-maybe" name="followup" value="maybe" onclick="trackEvent('radio_click', 'followup_maybe')">
<label for="followup-maybe">Maybe later</label>
</div>
<div class="radio-item">
<input type="radio" id="followup-no" name="followup" value="no" onclick="trackEvent('radio_click', 'followup_no')">
<label for="followup-no">No thanks</label>
</div>
</div>
</div>

<div class="error-message" id="error4"></div>

<div class="btn-group">
<button type="button" class="btn-secondary" onclick="prevTab(2)">Back</button>
<button type="button" class="btn-primary" onclick="submitForm()">Submit Feedback</button>
</div>

<div class="success-message" id="success4"></div>
</div>

</div>

<!-- ===== FOOTER ===== -->
<footer>
<p><strong>Thank you for helping us build H-Care.</strong></p>
<p>We'll use your feedback to create a product that actually solves real problems.</p>
<p style="margin-top:20px;font-size:12px;">¬© 2026 H-Care | Privacy first, always.</p>
</footer>

<script>
const GA_MEASUREMENT_ID = 'G-XXXXXXXXXX';

let currentTab = 0;

function trackEvent(eventType, eventValue) {
  console.log(`Event: ${eventType} - Value: ${eventValue}`);
  
  if (typeof gtag !== 'undefined') {
    gtag('event', eventType, {
      'event_category': 'feedback_form',
      'event_label': eventValue,
      'timestamp': new Date().toISOString(),
      'current_tab': currentTab
    });
  }
  
  storeEventLocally(eventType, eventValue);
}

function storeEventLocally(eventType, eventValue) {
  const events = JSON.parse(localStorage.getItem('h_care_events') || '[]');
  events.push({
    type: eventType,
    value: eventValue,
    timestamp: new Date().toISOString(),
    tab: currentTab,
    sessionId: getSessionId()
  });
  localStorage.setItem('h_care_events', JSON.stringify(events));
}

function getSessionId() {
  let sessionId = sessionStorage.getItem('h_care_session_id');
  if (!sessionId) {
    sessionId = 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
    sessionStorage.setItem('h_care_session_id', sessionId);
  }
  return sessionId;
}

window.addEventListener('load', function() {
  trackEvent('page_load', 'feedback_form_view');
  console.log('üéØ H-Care Feedback Landing Page Loaded');
});

function switchTab(tabIndex, button, event) {
  if (event) {
    event.preventDefault();
  }
  
  const forms = document.querySelectorAll('.form-section');
  const buttons = document.querySelectorAll('.tab-button');

  forms.forEach(form => form.classList.remove('active'));
  buttons.forEach(btn => btn.classList.remove('active'));

  forms[tabIndex].classList.add('active');
  button.classList.add('active');
  
  currentTab = tabIndex;
  trackEvent('tab_navigation', `tab_${tabIndex}`);
  
  setTimeout(() => {
    document.querySelector('.form-section.active').scrollIntoView({ 
      behavior: 'smooth',
      block: 'start'
    });
  }, 100);
}

function nextTab(tabIndex) {
  const buttons = document.querySelectorAll('.tab-button');
  buttons[tabIndex].click();
}

function prevTab(tabIndex) {
  const buttons = document.querySelectorAll('.tab-button');
  buttons[tabIndex].click();
}

function selectRating(btn) {
  const siblings = btn.parentElement.querySelectorAll('.rating-btn');
  siblings.forEach(b => b.classList.remove('selected'));
  btn.classList.add('selected');
  document.getElementById('satisfaction-rating').value = btn.getAttribute('data-rating');
}

function submitForm() {
  const name = document.getElementById('name').value.trim();
  const email = document.getElementById('email').value.trim();
  
  if (!name || !email) {
    showError('error4', 'Please fill in your name and email');
    return;
  }
  
  if (!validateEmail(email)) {
    showError('error4', 'Please enter a valid email address');
    return;
  }

  const formData = collectAllFormData();
  
  document.getElementById('form-timestamp').value = formData.timestamp;
  document.getElementById('form-sessionId').value = formData.sessionId;
  document.getElementById('form-segment').value = formData.segment;
  document.getElementById('form-worryFrequency').value = formData.worryFrequency;
  document.getElementById('form-biggestConcern').value = formData.biggestConcern;
  document.getElementById('form-usingSolutions').value = formData.usingSolutions;
  document.getElementById('form-solutions').value = formData.solutions;
  document.getElementById('form-satisfactionRating').value = formData.satisfactionRating;
  document.getElementById('form-currentProblem').value = formData.currentProblem;
  document.getElementById('form-interest').value = formData.interest;
  document.getElementById('form-features').value = formData.features;
  document.getElementById('form-concerns').value = formData.concerns;
  document.getElementById('form-price').value = formData.price;
  document.getElementById('form-name').value = formData.name;
  document.getElementById('form-email').value = formData.email;
  document.getElementById('form-phone').value = formData.phone;
  document.getElementById('form-city').value = formData.city;
  document.getElementById('form-finalFeedback').value = formData.finalFeedback;
  document.getElementById('form-followup').value = formData.followup;
  
  const netlifyForm = document.querySelector('form[name="h-care-feedback"]');
  const formDataToSend = new FormData(netlifyForm);
  
  fetch('/', {
    method: 'POST',
    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
    body: new URLSearchParams(formDataToSend).toString()
  }).then(() => {
    trackEvent('form_submission', 'success');
    
    const successMsg = document.getElementById('success4');
    successMsg.textContent = `‚úì Thank you, ${name}! Your feedback has been recorded. We'll be in touch soon.`;
    successMsg.classList.add('show');
    
    console.log('‚úÖ Form submitted successfully');
    
    setTimeout(() => {
      document.getElementById('form-name').value = '';
      document.getElementById('form-email').value = '';
    }, 2000);
  }).catch(error => {
    console.error('Error:', error);
    trackEvent('form_submission', 'error');
  });
}

function collectAllFormData() {
  return {
    timestamp: new Date().toISOString(),
    sessionId: getSessionId(),
    segment: getCheckboxValues('segment'),
    worryFrequency: getRadioValue('worry-frequency'),
    biggestConcern: document.getElementById('biggest-concern').value,
    usingSolutions: getRadioValue('using-solutions'),
    solutions: getCheckboxValues('solutions'),
    satisfactionRating: document.getElementById('satisfaction-rating').value,
    currentProblem: document.getElementById('current-problem').value,
    interest: getRadioValue('interest'),
    features: getCheckboxValues('features'),
    concerns: document.getElementById('concerns').value,
    price: getRadioValue('price'),
    name: document.getElementById('name').value,
    email: document.getElementById('email').value,
    phone: document.getElementById('phone').value,
    city: document.getElementById('city').value,
    finalFeedback: document.getElementById('final-feedback').value,
    followup: getRadioValue('followup'),
  };
}

function getCheckboxValues(name) {
  return Array.from(document.querySelectorAll(`input[name="${name}"]:checked`))
    .map(cb => cb.value)
    .join(', ');
}

function getRadioValue(name) {
  const radio = document.querySelector(`input[name="${name}"]:checked`);
  return radio ? radio.value : '';
}

function validateEmail(email) {
  const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return re.test(email);
}

function showError(elementId, message) {
  const errorEl = document.getElementById(elementId);
  errorEl.textContent = '‚ùå ' + message;
  errorEl.classList.add('show');
}

window.addEventListener('beforeunload', function() {
  trackEvent('page_unload', 'feedback_form_exit');
});

window.viewTrackedEvents = function() {
  const events = JSON.parse(localStorage.getItem('h_care_events') || '[]');
  console.log('=== TRACKED EVENTS ===', events);
  return events;
};

console.log('%c üéØ H-CARE FEEDBACK FORM READY', 'color: #3b82f6; font-size: 16px; font-weight: bold;');
</script>

</body>
</html>
